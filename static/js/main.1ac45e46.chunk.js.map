{"version":3,"sources":["components/Header.js","components/bookForm.js","components/showTableData.js","components/SideMenu.js","index.js"],"names":["Header","className","Component","bookForm","props","submitData","e","ref","firebase","document","querySelector","innerHTML","data","bookName","value","authorName","numPages","isbnNum","delete","alert","push","clearFields","preventDefault","bind","React","createRef","this","showForm","htmlFor","input","type","id","placeholder","required","pattern","onClick","showTableData","retrieveDataFromDB","on","getData","val","console","log","books","keys","Object","retrievedData","key","setState","dataKeys","state","concat","k","libraryData","generateHeader","Fragment","generateTable","table","i","map","libData","removeRecord","libRef","currentDataFirebaseKey","currentTarget","child","remove","then","catch","error","deleteRef","showData","SideMenu","changeFormState","changeShowDataState","showSavedData","duration","easing","destination","getElementById","ReactDOM","render","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId"],"mappings":"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","file":"static/js/main.1ac45e46.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport './styleFolder/header-style.css';\n\nclass Header extends Component {\n  render() {\n    return(\n      <div className=\"header\">\n        <h1>library</h1>\n      </div>\n    )\n  }\n}\n\nexport default Header;\n","import React, { Component } from 'react'\nimport * as firebase from 'firebase';\nimport './styleFolder/mainContent-style.css';\n\nclass bookForm extends Component {\n\n  constructor(props) {\n    super(props);\n    \n    this.submitData = this.submitData.bind(this);\n\n    this.bookName = React.createRef();\n    this.authorName = React.createRef();\n    this.numPages = React.createRef();\n    this.isbnNum = React.createRef();\n    this.delete = \"delete\";\n  }\n\n  submitData = (e) => {\n    var database = firebase.database();\n    var ref = database.ref('libraryData');\n\n    document.querySelector('tbody').innerHTML = \"\";\n    var data = {\n      bookName: this.bookName.value,\n      authorName: this.authorName.value,\n      numPages: this.numPages.value,\n      isbnNum: this.isbnNum.value,\n      delete: this.delete\n    };\n\n    if (this.bookName.value === \"\" || this.authorName.value === \"\" || this.numPages.value === \"\" || this.isbnNum.value === \"\"){\n      alert(\"Please fill all the fields\");\n    } else {\n      ref.push(data);\n      alert('Data Saved');\n      this.clearFields();\n    }\n    e.preventDefault();\n  }\n\n  clearFields() {\n    this.bookName.value = \"\";\n    this.authorName.value = \"\";\n    this.numPages.value = \"\";\n    this.isbnNum.value = \"\";\n  }\n\n  render() {\n    if(this.props.showForm) {\n      return (\n        <div className=\"mainContent col-md-8\">\n          <form>\n            <label htmlFor=\"bookName\">enter book name</label>\n            <input ref={(input) => this.bookName = input} type=\"text\" id=\"bookName\" placeholder=\"book name\" required></input>\n\n            <label htmlFor=\"authorName\">enter author name</label>\n            <input ref={(input) => this.authorName = input} type=\"text\" id=\"authorName\" placeholder=\"author name\" required></input>\n\n            <label htmlFor=\"numPages\">number of pages</label>\n            <input ref={(input) => this.numPages = input} type=\"text\" id=\"numPages\" placeholder=\"page count\" required></input>\n\n            <label htmlFor=\"isbnNum\">enter the ISBN number</label>\n            <input ref={(input) => this.isbnNum = input} type=\"text\" pattern=\"(97(8|9))?\\d{9}(\\d|X)\" id=\"isbnNum\" placeholder=\"isbn number\" required></input>\n\n            <button type=\"submit\" onClick={this.submitData}>submit</button>\n          </form>\n        </div>\n      );\n    }\n  }\n}\n\nexport default bookForm;\n","import React, {Component} from 'react';\nimport * as firebase from 'firebase';\n\nclass showTableData extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      libraryData: [],\n      dataKeys: []\n    }\n\n    this.deleteRef = React.createRef();\n\n    this.removeRecord = this.removeRecord.bind(this);\n  }\n\n  retrieveDataFromDB = () => {\n    var database = firebase.database();\n    var ref = database.ref('libraryData');\n\n    ref.on('value', this.getData);\n  }\n\n  getData = (data) => {\n    if(data.val() === null) {\n      alert(\"database is empty\");\n      return;\n    }\n\n    //document.querySelector('tbody').innerHTML = \"\";\n\n    console.log('IN GET DATA ')\n    var books = data.val();\n    var keys = Object.keys(books);\n    var retrievedData = [];\n\n    this.setState({\n      dataKeys: [...this.state.dataKeys.concat(keys)]\n    });\n\n    for(var key in keys) {\n      var k = keys[key];\n      var bookName = books[k].bookName;\n      var authorName = books[k].authorName;\n      var numPages = books[k].numPages;\n      var isbnNum = books[k].isbnNum;\n\n      retrievedData.push({\n        bookName,\n        authorName,\n        numPages,\n        isbnNum\n      });\n\n      this.setState({\n        libraryData: []\n      })\n\n      this.setState({\n        libraryData: [...this.state.libraryData.concat(retrievedData)]\n      });\n    }\n    console.log(\"retrieved data : \" + retrievedData);\n  }\n\n  componentDidMount() {\n    console.log(\"component will mount called\");\n\n    this.retrieveDataFromDB();\n  }\n\n  generateHeader = () => {\n    return (\n      <React.Fragment>\n        <th>book name</th>\n        <th>author name</th>\n        <th>pages</th>\n        <th>isbn number</th>\n        <th>delete record</th>\n      </React.Fragment>\n    )\n  }\n\n  generateTable = () => {\n    console.log('INSIDE GENERATE TABLE');\n    var table = [];\n    var i = 0;\n    var keys = this.state.dataKeys;\n    \n    var libData = this.state.libraryData;\n\n    libData.map((libData) => {\n      const {bookName, authorName, numPages, isbnNum} = libData;\n     \n      table.push(\n        <tr className={isbnNum} key={isbnNum}>\n          <td className=\"bookName\">{bookName}</td>\n          <td>{authorName}</td>\n          <td>{numPages}</td>\n          <td>{isbnNum}</td>\n          <td>\n            <button \n              id={keys[i]} \n              className='deleteBtn' \n              onClick={(e) => {\n                  this.removeRecord(e); \n                }\n              } \n              type=\"button\">\n              delete\n            </button>\n          </td>\n        </tr>\n      );\n      i++;\n    });\n    return table;\n  }\n\n  removeRecord = (e) => {\n\n    var database = firebase.database();\n    var libRef = database.ref('libraryData');\n    var currentDataFirebaseKey = e.currentTarget.id;\n\n\n    // removing data from firebase database\n    \n    libRef.child(currentDataFirebaseKey).remove().then( () => {\n      console.log(\"Removal Success\");\n    }).catch((error) => {\n      console.log(\"Removal Failed : \", error);\n    })\n\n    document.querySelector('tbody').innerHTML = \"\";\n  }\n\n  render() {\n    if(this.props.showData) {\n      return(\n        <div className=\"dataTable col-md-12\">\n          <table>\n            <thead>\n              <tr key=\"thead\">\n                {this.generateHeader()}\n              </tr>\n            </thead>\n            <tbody>\n              {this.generateTable()}\n            </tbody>\n          </table>\n        </div>\n      )\n    }\n  }\n}\n\nexport default showTableData;","import React, {Component} from 'react';\nimport BookForm from './bookForm';\nimport ShowTableData from './showTableData';\nimport FlipMove from 'react-flip-move';\nimport './styleFolder/sideMenu-style.css';\n\nclass SideMenu extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showForm: false,\n      showSavedData: false\n    };\n\n    this.changeFormState = this.changeFormState.bind(this);\n    this.changeShowDataState = this.changeShowDataState.bind(this);\n  }\n\n  changeFormState = () => {\n    if(this.state.showForm === false) {\n      this.setState({\n        showForm: true\n      });\n    }\n    else {\n      this.setState({\n        showForm: false\n      });\n    }\n    console.log('add record clicked!');\n  } \n\n  changeShowDataState = () => {\n    if(this.state.showSavedData === false) {\n      this.setState({\n        showSavedData: true\n      });\n    } else {\n      this.setState({\n        showSavedData: false\n      });\n    }\n    console.log(\"Show Record Clicked\");\n  }\n\n  render() {\n    return(\n      <div className=\"container\">\n        <div className=\"row\">\n          \n          <div className=\"sideMenu col-md-12\">\n            <button type=\"button\" onClick={this.changeFormState}>add record</button>\n            <button type=\"button\" onClick={this.changeShowDataState}>show record</button>\n          </div>\n          \n          <FlipMove className=\"formDiv\" duration={250} easing=\"ease-out\">\n            {this.state.showForm && <BookForm showForm={this.state.showForm} />}\n          </FlipMove>\n\n          {this.state.showSavedData && <ShowTableData showData={this.state.showSavedData} />}\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default SideMenu;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Header from './components/Header';\nimport SideMenu from './components/SideMenu';\nimport * as firebase from 'firebase';\n\nconst destination = document.getElementById(\"mainContainer\");\n\nReactDOM.render(\n  <React.Fragment>\n    <Header />\n    <SideMenu />\n  </React.Fragment>,\n  destination\n);\n\nvar firebaseConfig = {\n  apiKey: \"AIzaSyB9btt9B0h0IaF33xkEUH6EyPdsacWh7lQ\",\n  authDomain: \"react-library-15d5f.firebaseapp.com\",\n  databaseURL: \"https://react-library-15d5f.firebaseio.com\",\n  projectId: \"react-library-15d5f\",\n  storageBucket: \"react-library-15d5f.appspot.com\",\n  messagingSenderId: \"1030142681853\",\n  appId: \"1:1030142681853:web:01750638436daace6d5494\",\n  measurementId: \"G-M8HRQV7VCZ\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nfirebase.analytics();"],"sourceRoot":""}